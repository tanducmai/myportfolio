<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Tan Duc Mai">
    <meta name="description" content="https://tanducmai.com">
    <meta name="keywords" content="blog,developer,personal">

    <meta property="og:site_name" content="Tan Duc Mai">
    <meta property="og:title" content="
  Database - SQL - Data Manipulation - Tan Duc Mai
">
    <meta property="og:description" content="Database - SQL - Data Manipulation">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tanducmai.com/posts/database/sql/database-sql-data-manipulation/">
    <meta property="og:image" content="https://tanducmai.comimages/database/posts/sql/meme/meme.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="https://tanducmai.com/posts/database/sql/database-sql-data-manipulation/">
    <meta name="twitter:image" content="https://tanducmai.comimages/database/posts/sql/meme/meme.png">

    <base href="https://tanducmai.com/posts/database/sql/database-sql-data-manipulation/">
    <title>
  Database - SQL - Data Manipulation - Tan Duc Mai
</title>

    <link rel="canonical" href="https://tanducmai.com/posts/database/sql/database-sql-data-manipulation/">
    
    <link  rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700">
    <link rel="stylesheet" href="/css/normalize.min.css">
    <link rel="stylesheet" href="/css/style.min.css">

    

    

    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

    
      <link rel="alternate" href="https://tanducmai.com/index.xml" type="application/rss+xml" title="Tan Duc Mai">
      <link href="https://tanducmai.com/index.xml" rel="feed" type="application/rss+xml" title="Tan Duc Mai" />
    

    <meta name="generator" content="Hugo 0.68.3" />
  </head>

  <body class="">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">Tan Duc Mai</a>
    <input type="checkbox" id="menu-control"/>
    <label class="menu-mobile  float-right " for="menu-control">
      <span class="btn-mobile  float-right ">&#9776;</span>
      <ul class="navigation-list">
        
          
            <li class="navigation-item  align-center ">
              <a class="navigation-link" href="https://tanducmai.com/about">About</a>
            </li>
          
            <li class="navigation-item  align-center ">
              <a class="navigation-link" href="https://tanducmai.com/posts">Blog</a>
            </li>
          
            <li class="navigation-item  align-center ">
              <a class="navigation-link" href="https://tanducmai.com/projects">Portfolio</a>
            </li>
          
            <li class="navigation-item  align-center ">
              <a class="navigation-link" href="https://tanducmai.com/contact">Contact</a>
            </li>
          
        
        
          
          
          
            <li class= " mobile-menu-lang-separator-centered ">
              <hr />
            </li>
          
          
            
          
            
              
                
                  <li class="multilingual-separator">
                    <p>|</p>
                  </li>
                
                
              
              <li class="navigation-item  align-center ">
                <a href="https://tanducmai.com/ja/">Japanese</a>
              </li>
            
          
        
      </ul>
    </label>
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
  <article>
    <header>
      <h1 class="title">Database - SQL - Data Manipulation</h1>
      <h2 class="date">March 11, 2022</h2>

      
    </header>

    <h3 id="table-of-contents">Table of Contents</h3>
<ol>
<li><a href="#data-manipulation">Data Manipulation</a></li>
<li><a href="#insert-into-statement">INSERT INTO Statement</a></li>
<li><a href="#delete-from-statement">DELETE FROM Statement</a></li>
<li><a href="#delete-from-and-drop-table-statements">DELETE FROM and DROP TABLE
Statements</a></li>
<li><a href="#update-statement">UPDATE Statement</a></li>
</ol>
<p><img src="/images/database/posts/sql/meme/meme.png" alt="SQL Meme"></p>
<h3 id="data-manipulation">Data Manipulation</h3>
<p>So we have created a set of tables. However:</p>
<ul>
<li>How do we actually put data in our database?</li>
<li>How do we modify data that is already in our database?</li>
<li>How do we answer questions (queries) using our database data?</li>
</ul>
<p>Key Data Manipulation SQL commands:</p>
<ol>
<li><strong>INSERT INTO</strong> - Creates new tuple(s) in a table.</li>
<li><strong>DELETE FROM</strong> - Permanently removes tuple(s) from a table.</li>
<li><strong>UPDATE</strong> - Modifies existing tuple(s) in a table.</li>
<li><strong>SELECT</strong> - Retrieves tuple(s) of data from table (a Query).</li>
</ol>
<h3 id="insert-into-statement"><code>INSERT INTO</code> Statement</h3>
<p>This statement is used to populate with data - your newly created database.</p>
<ul>
<li>String data (text) must be wrapped in single &lsquo;quotations&rsquo;.</li>
<li>Same applies to date strings: &lsquo;01/03/2014&rsquo;</li>
</ul>
<h5 id="insert-a-single-tuple">Insert a single tuple</h5>
<p>There are two ways of creating new tuple(s) in a table: default positions
and keywords.</p>
<p>For example: Student(studentName, studentID)</p>
<ol>
<li>Insert new values in the default order of the attributes when the table was created.</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TableName</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">Student</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">&#39;50011&#39;</span><span class="p">,</span> <span class="s1">&#39;Barry&#39;</span><span class="p">);</span>
</code></pre></div><ol start="2">
<li>Insert the values in a different order to the default order of the attributes when the table was created.</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TableName</span> <span class="p">(</span><span class="n">attr3</span><span class="p">,</span> <span class="n">attr2</span><span class="p">,</span> <span class="n">attr1</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">Student</span> <span class="p">(</span><span class="n">studentName</span><span class="p">,</span> <span class="n">studentID</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">&#39;Stacy&#39;</span><span class="p">,</span> <span class="s1">&#39;50022&#39;</span><span class="p">);</span>
</code></pre></div><p>Note the different order of studentName and studentID. If the order is
not specified, you must insert the values in the order of the table
attribute when they are defined (left -&gt; right).</p>
<h5 id="use-a-sub-query-insert-from-another-table">Use a sub-query (insert from another table)</h5>
<p>Insert values from another table into the given table as a new tuple.</p>
<p>Syntax:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">GivenTable</span>
    <span class="k">SELECT</span> <span class="n">attr1</span><span class="p">,</span> <span class="n">attr2</span><span class="p">,</span> <span class="n">attr3</span>
    <span class="k">FROM</span> <span class="n">AnotherTable</span>
    <span class="k">WHERE</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div><p>Example:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">Student</span> <span class="p">(</span><span class="n">StudentID</span><span class="p">,</span> <span class="n">StudentName</span><span class="p">)</span>
    <span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">name</span>
    <span class="k">FROM</span> <span class="n">AnotherTable</span>
    <span class="k">WHERE</span> <span class="n">name</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>
</code></pre></div><h3 id="delete-from-statement"><code>DELETE FROM</code> statement</h3>
<p>This statement is used to remove ALL the tuple(s) that satisfy the condition from a
given table.</p>
<ul>
<li>The removal may result in deletions from other tables if a FK
constraint with <code>CASCADE ON DELETE</code> has been used.</li>
</ul>
<ol>
<li>If the WHERE clause is omitted, DELETE FROM empties (removes all
tuples from) the table:</li>
</ol>
<p>For example, remove all students from the table:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">TableName</span><span class="p">;</span>
<span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">Student</span><span class="p">;</span>
</code></pre></div><ol start="2">
<li>If the WHERE clause presents, each tuple is compared to it and if
TRUE is returned, that tuple is deleted.</li>
</ol>
<p>For example, remove all students from the table whose name is &lsquo;Henry&rsquo;:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">TableName</span> <span class="k">WHERE</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">Student</span> <span class="k">WHERE</span> <span class="n">studentName</span> <span class="o">=</span> <span class="s1">&#39;Henry&#39;</span><span class="p">;</span>
</code></pre></div><h3 id="delete-from-and-drop-table-statements"><code>DELETE FROM</code> and <code>DROP TABLE</code> statements</h3>
<table>
<thead>
<tr>
<th>DELETE FROM</th>
<th>DROP TABLE</th>
</tr>
</thead>
<tbody>
<tr>
<td>Delete all tuples from the table</td>
<td>Delete all tuples from the table</td>
</tr>
<tr>
<td>Do NOT delete the table / schema</td>
<td>Delete the table / schema</td>
</tr>
<tr>
<td><code>DELETE FROM Employee</code></td>
<td><code>DROP TABLE Employee</code></td>
</tr>
<tr>
<td>The table is empty</td>
<td>The table is removed from the database</td>
</tr>
</tbody>
</table>
<h3 id="update-statement"><code>UPDATE</code> statement</h3>
<p>This statement is used to modify the existing records in a table that
satisfy the condition from a given table.</p>
<p>Syntax:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">UPDATE</span> <span class="n">TableName</span>
  <span class="k">SET</span> <span class="n">attribute</span><span class="o">=&lt;</span><span class="n">Expression</span><span class="o">|</span><span class="n">SelectSQL</span><span class="o">|</span><span class="k">NULL</span><span class="o">|</span><span class="k">DEFAULT</span><span class="o">&gt;</span>
  <span class="err">{</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=&lt;</span><span class="n">Expression</span><span class="o">|</span><span class="n">SelectSQL</span><span class="o">|</span><span class="k">NULL</span><span class="o">|</span><span class="k">DEFAULT</span><span class="o">&gt;</span><span class="err">}</span>
  <span class="err">{</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=&lt;</span><span class="n">Expression</span><span class="o">|</span><span class="n">SelectSQL</span><span class="o">|</span><span class="k">NULL</span><span class="o">|</span><span class="k">DEFAULT</span><span class="o">&gt;</span><span class="err">}</span>
  <span class="p">[</span><span class="k">WHERE</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">]</span>
</code></pre></div><p>Akin to the DELETE FROM statement, the presence of the WHERE clause is
vital.</p>
<ol>
<li>If the WHERE clause is omitted, all records in the table will be
updated.</li>
</ol>
<p>For example, all employees will get a double raise:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">UPDATE</span> <span class="n">Employee</span>
<span class="k">SET</span> <span class="n">Salary</span> <span class="o">=</span> <span class="n">Salary</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
</code></pre></div><ol start="2">
<li>If the WHERE clause presents, each tuple is compared to it and if TRUE
is returned, that tuple is updated.</li>
</ol>
<p>For example, only <em>senior</em> employees will get a double raise:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">UPDATE</span> <span class="n">Employee</span>
<span class="k">SET</span> <span class="n">Salary</span> <span class="o">=</span> <span class="n">Salary</span> <span class="o">*</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span>
<span class="k">WHERE</span> <span class="n">rank</span> <span class="o">=</span> <span class="n">senior</span><span class="p">;</span>
</code></pre></div>
  </article>

  <br/>

  
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "tan-duc-mai" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  
  
</section>

      </div>
      
    </main>

    

  <script src="/js/app.js"></script>
  
  </body>
</html>
